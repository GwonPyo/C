<h2> <strong> 2. 파일 스트림 모드 </strong> </h2>

<h3> <strong> (1) 스트림 모드 종류 </strong> </h3>

파일 스트림의 모드는 크게 네 가지로 구분한다.

* READ 스트림: 읽기만 가능
* WRITE 스트림: 쓰기만 가능
* APPEND 스트림: 이전 내용에 이어쓰기만 가능
* READ/WRITE 스트림: 읽기, 쓰기 모두 가능

다음 표는 fopen시 사용하는 모드를 정리한 표다.

|모드|종류|파일 없을 시|
|:---:|:---:|:---:|
|r|읽기 가능|에러 발생|
|w|쓰기 가능|파일 생성|
|a|이어쓰기 가능|파일 생성|
|r+|읽기/쓰기 가능|에러 발생|
|w+|읽기/쓰기 가능|파일 생성|
|a+|읽기/이어쓰기 가능|파일 생성|

><b>참고</b> <br>
위 파일 모드에서 +를 붙이 모드들은 모두 읽기와 쓰기가 가능하다. <br>
하지만 읽기에서 쓰기로, 쓰기에서 읽기로 모드를 변경할 때마다 버퍼를 비워줘야 하는 등의 불편함이 생기고 잘못된 사용의 위험성도 따른다. <br>
<b>따라서 r, w, a중 하나를 선택해 스트림을 형성하는 것이 좋다.</b>

<h3> <strong> (2) 텍스트 / 바이너리 모드 </strong> </h3>

먼저 텍스트 파일과 바이너리 파일의 개념을 알아보자.

* 텍스트 파일: 사람이 인식할 수 있는 문자를 담고있는 파일
* 바이너리 파일: 컴퓨터가 인식할 수 있는 데이터를 담고있는 파일

우리는 파일에 문자열을 입력할 때 개행을 표시하려면 '\n'을 사용한다. <br>
하지만 이는 <b>C 언어만의 약속</b>이며 다른 운영체제의 경우 아래와 같이 개행을 표시하는 방법이 다르다.

* Windows 개행 문자: \rn
* Mac 개행 문자: \r
* Unix 개행 문자: \n

즉, c언어로 개발된 프로그램을 window 파일에 저장할 때는 \r\n, mac 파일에 저장할 때는 \r로 변환하여 저장해야 한다. <br>
하지만 파일을 <b>텍스트 모드</b>로 개방하면 이러한 문제를 해결할 수 있다.
즉, 텍스트 모드 사용시 아래와 같은 변환이 자동으로 이루어진다.

* C 프로그램 파일의 window에 저장 -> \n을 \r\n으로 변환
* window 파일을 C 프로그램에서 읽어옴 -> \r\n을 \n으로 변환

이러한 텍스트 모드를 사용하기 위해서는 아래 모드들을 사용하면 된다.

* rt, wt, at, r+t, w+t, a+t

단, 바이너리 데이터의 경우 데이터가 변환되면 안되기 때문에 아래 모드들로 선언하면 된다.

* rb, wb, ab, r+b, w+b, a+b

이전에 배운 <b>r, w, a, r+, w+, a+의 경우 기본적으로 텍스트 모드로 개방되게 된다</b>는 사실을 기억하자.
